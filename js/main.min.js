$(()=>{const e=$("#sider-main"),t=$("#sider-close"),o=$(".navbar-toggle"),r=$("#mobile-menu"),n=$(".proyecto"),a=$("#formulario-contacto"),s=$(".btn.contacto"),i=$(".menu-item");fillCopyright(),i.click(e=>{e.preventDefault(),getTo(event.target.hash)}),t.click(t=>{toggle(e),resetShown()}),o.click(e=>{toggle(o),toggle(r)}),n.click(function(t){toggle(e),showProject($(this).index())}),s.click(e=>{e.preventDefault(),toggle(a),getTo(a)}),IS_MOBILE.browser()||($(".proyecto").mousemove(()=>rotateElement(event)),$(".proyecto").mouseleave(()=>resetTransform(event)))});const IS_MOBILE={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},browser:function(){return IS_MOBILE.Android()||IS_MOBILE.BlackBerry()||IS_MOBILE.iOS()||IS_MOBILE.Opera()||IS_MOBILE.Windows()}},resetShown=()=>$(".show").removeClass("show"),toggle=e=>$(e).toggleClass("open"),getTo=e=>{let t=$(e).offset().top,o=0!==t?t:window.pageYOffset;window.scrollTo({top:o,behavior:"smooth"})},showProject=e=>{const t=$(`.sider-content article:nth-of-type(${e})`),o=$(`.sider-images img:nth-of-type(${e})`);t.addClass("show"),o.addClass("show")},fillCopyright=()=>{const e=`<p id="copyright" class="centered">@${(new Date).getFullYear()} by <a href="mailto:muflonex@gmail.com">Muflonex</a></p>`;$("footer").append(e)},getRelativeCoordinates=(e,t)=>{const o=e.pageX,r=e.pageY,n={left:t.offsetLeft,top:t.offsetTop};let a=t.offsetParent;for(;null!==a||a;)n.left+=a.offsetLeft,n.top+=a.offsetTop,a=a.offsetParent;return{x:o-n.left,y:r-n.top}},rotateElement=e=>{let t=e.currentTarget,o=t.offsetWidth/2,r=t.offsetHeight/2,n=getRelativeCoordinates(e,t),a=(o-n.x)/7.5,s=-(r-n.y)/2.5;t.style.transform=`perspective(700px) rotateY(${a}deg ) rotateX(${s}deg) scale(1.2)`},resetTransform=e=>{e.currentTarget.style.transform="perspective(700px) scale(1)"};